<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Cleaning Work Schedule</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
            padding: 40px 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            text-align: center;
            color: #1a1a1a;
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 30px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .controls {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: #ecf0f1;
            border-radius: 4px;
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
        }
        
        .control-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .controls label {
            font-size: 18px;
            font-weight: 700;
            color: #2c3e50;
        }
        
        .controls select {
            font-size: 16px;
            padding: 8px 16px;
            border: 2px solid #2c3e50;
            border-radius: 4px;
            background: white;
            font-weight: 600;
            cursor: pointer;
        }
        
        .time-inputs {
            display: flex;
            gap: 5px;
        }
        
        .time-inputs select {
            padding: 8px 12px;
        }
        
        .section {
            margin-bottom: 30px;
        }
        
        .section-header {
            background: #2c3e50;
            color: white;
            padding: 12px 20px;
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 2px;
        }
        
        .task-row {
            display: flex;
            border-bottom: 1px solid #e0e0e0;
            padding: 16px 20px;
            align-items: center;
        }
        
        .task-row:last-child {
            border-bottom: none;
        }
        
        .time {
            font-weight: 700;
            font-size: 16px;
            color: #2c3e50;
            min-width: 140px;
        }
        
        .task {
            flex: 1;
            font-size: 16px;
            color: #333;
        }
        
        .label {
            padding: 6px 14px;
            border-radius: 4px;
            font-size: 13px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .daily {
            background: #3498db;
            color: white;
        }
        
        .heavy {
            background: #e74c3c;
            color: white;
        }
        
        .light {
            background: #2ecc71;
            color: white;
        }
        
        .moderate {
            background: #f39c12;
            color: white;
        }
        
        .break {
            background: #95a5a6;
            color: white;
        }
        
        .micro-break {
            background: #9b59b6;
            color: white;
        }
        
        @media print {
            body {
                background: white;
                padding: 0;
            }
            
            .container {
                box-shadow: none;
                padding: 20px;
            }
            
            .controls {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Daily Cleaning Work Schedule</h1>
        
        <div class="controls">
            <label for="hours"># of Hours:</label>
            <select id="hours" onchange="generateSchedule()">
                <option value="5">5 Hours</option>
                <option value="6">6 Hours</option>
                <option value="7">7 Hours</option>
                <option value="8" selected>8 Hours</option>
                <option value="9">9 Hours</option>
            </select>
        </div>
        
        <div id="schedule"></div>
    </div>

    <script>
        function addMinutes(time, minutes) {
            const [hours, mins] = time.split(':').map(Number);
            const date = new Date(2000, 0, 1, hours, mins);
            date.setMinutes(date.getMinutes() + minutes);
            return date.getHours() + ':' + String(date.getMinutes()).padStart(2, '0');
        }

        function generateSchedule() {
            const totalHours = parseInt(document.getElementById('hours').value);
            const workHours = totalHours - 1; // Subtract 1 hour break
            const needsMicroBreaks = totalHours >= 8;
            
            let schedule = [];
            let currentTime = '8:00';
            
            // Morning: Daily task (1.5 hours)
            schedule.push({
                start: currentTime,
                end: addMinutes(currentTime, 90),
                task: 'Same daily task',
                type: 'daily'
            });
            currentTime = addMinutes(currentTime, 90);
            
            // Calculate remaining work time
            let remainingMinutes = (workHours * 60) - 90; // Subtract daily task
            
            // Add micro-breaks if needed (5 breaks × 2 minutes = 10 minutes)
            if (needsMicroBreaks) {
                remainingMinutes -= 10;
            }
            
            // Alternate heavy/light tasks (45 minutes each)
            let isHeavy = true;
            let microBreakCounter = 0;
            const microBreakInterval = needsMicroBreaks ? Math.floor(remainingMinutes / 5 / 45) : 0;
            let tasksSinceMicroBreak = 0;
            
            while (remainingMinutes > 0) {
                // Check if we need lunch break (at 12:30)
                const [h, m] = currentTime.split(':').map(Number);
                const currentMinutes = h * 60 + m;
                const lunchTime = 12 * 60 + 30; // 12:30 in minutes
                
                if (currentMinutes >= lunchTime && currentMinutes < lunchTime + 60) {
                    schedule.push({
                        start: '12:30',
                        end: '13:30',
                        task: 'Break',
                        type: 'break'
                    });
                    currentTime = '13:30';
                    continue;
                }
                
                // Add micro-break if needed
                if (needsMicroBreaks && tasksSinceMicroBreak >= 2 && microBreakCounter < 5 && remainingMinutes > 45) {
                    schedule.push({
                        start: currentTime,
                        end: addMinutes(currentTime, 2),
                        task: '2-minute break',
                        type: 'micro-break'
                    });
                    currentTime = addMinutes(currentTime, 2);
                    microBreakCounter++;
                    tasksSinceMicroBreak = 0;
                    continue;
                }
                
                let duration = Math.min(45, remainingMinutes);
                let taskType, taskLabel;
                
                // Determine task type based on position
                if (currentMinutes < lunchTime) {
                    // Morning: alternate heavy/light
                    taskType = isHeavy ? 'heavy' : 'light';
                    taskLabel = isHeavy ? 'Heavy task' : 'Light task';
                } else {
                    // Afternoon: moderate and light
                    if (remainingMinutes <= 15) {
                        taskType = 'light';
                        taskLabel = 'Very light / finishing tasks';
                    } else if (remainingMinutes <= 45) {
                        taskType = 'moderate';
                        taskLabel = 'Moderate/light task';
                    } else if (isHeavy) {
                        taskType = 'moderate';
                        taskLabel = 'Moderate task';
                    } else {
                        taskType = 'light';
                        taskLabel = 'Light task';
                    }
                }
                
                schedule.push({
                    start: currentTime,
                    end: addMinutes(currentTime, duration),
                    task: taskLabel,
                    type: taskType
                });
                
                currentTime = addMinutes(currentTime, duration);
                remainingMinutes -= duration;
                isHeavy = !isHeavy;
                tasksSinceMicroBreak++;
            }
            
            renderSchedule(schedule);
        }
        
        function renderSchedule(schedule) {
            const scheduleDiv = document.getElementById('schedule');
            let html = '';
            let currentSection = '';
            
            schedule.forEach(item => {
                const [h] = item.start.split(':').map(Number);
                let section = '';
                
                if (h < 12 || (h === 12 && item.start !== '12:30')) {
                    section = 'morning';
                } else if (item.type === 'break') {
                    section = 'break';
                } else {
                    section = 'afternoon';
                }
                
                if (section !== currentSection) {
                    if (currentSection !== '') {
                        html += '</div>';
                    }
                    
                    let headerText = '';
                    if (section === 'morning') {
                        headerText = 'MORNING SESSION';
                    } else if (section === 'break') {
                        headerText = 'LUNCH BREAK';
                    } else {
                        headerText = 'AFTERNOON SESSION';
                    }
                    
                    html += `<div class="section"><div class="section-header">${headerText}</div>`;
                    currentSection = section;
                }
                
                html += `
                    <div class="task-row">
                        <div class="time">${item.start} – ${item.end}</div>
                        <div class="task">${item.task}</div>
                        <span class="label ${item.type}">${item.type.charAt(0).toUpperCase() + item.type.slice(1).replace('-', ' ')}</span>
                    </div>
                `;
            });
            
            if (currentSection !== '') {
                html += '</div>';
            }
            
            scheduleDiv.innerHTML = html;
        }
        
        // Generate initial schedule
        generateSchedule();
    </script>
</body>
</html>