<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled - Shrekpad</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #8B4513 0%, #6B8E23 100%);
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
        }

        .menu-bar {
            background: linear-gradient(180deg, #7CB342 0%, #558B2F 100%);
            border-bottom: 3px solid #4E7A2C;
            display: flex;
            padding: 2px 0;
            font-size: 11px;
            color: #FFF8DC;
            font-weight: bold;
        }

        .menu-item {
            padding: 4px 8px;
            cursor: pointer;
            position: relative;
        }

        .menu-item:hover {
            background: rgba(255, 248, 220, 0.3);
        }

        .dropdown {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background: linear-gradient(180deg, #A5D6A7 0%, #81C784 100%);
            border: 3px solid #4E7A2C;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.4);
            min-width: 200px;
            z-index: 1000;
        }

        .menu-item:hover .dropdown,
        .dropdown:hover {
            display: block;
        }

        .dropdown-item {
            padding: 6px 30px 6px 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #2E5016;
        }

        .dropdown-item:hover {
            background: rgba(255, 248, 220, 0.5);
        }

        .dropdown-separator {
            height: 2px;
            background: #4E7A2C;
            margin: 2px 0;
        }

        .shortcut {
            color: #2E5016;
            margin-left: 20px;
            font-size: 10px;
        }

        .text-area {
            flex: 1;
            padding: 8px;
            border: 4px solid #4E7A2C;
            outline: none;
            font-family: 'Comic Sans MS', 'Consolas', 'Courier New', monospace;
            font-size: 12pt;
            resize: none;
            background: #FFFACD;
            color: #2E5016;
        }

        .status-bar {
            background: linear-gradient(180deg, #7CB342 0%, #558B2F 100%);
            border-top: 3px solid #4E7A2C;
            padding: 4px 8px;
            font-size: 11px;
            display: flex;
            justify-content: space-between;
            color: #FFF8DC;
            font-weight: bold;
        }

        .title-bar {
            background: linear-gradient(180deg, #8BC34A 0%, #689F38 100%);
            border-bottom: 3px solid #4E7A2C;
            padding: 8px;
            font-size: 14px;
            font-weight: 900;
            color: #FFF8DC;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="title-bar" id="titleBar">ðŸ§… Untitled - Shrekpad ðŸ§…</div>
    
    <div class="menu-bar">
        <div class="menu-item">
            File
            <div class="dropdown">
                <div class="dropdown-item" onclick="newFile()">New <span class="shortcut">Ctrl+N</span></div>
                <div class="dropdown-item" onclick="openFile()">Open... <span class="shortcut">Ctrl+O</span></div>
                <div class="dropdown-item" onclick="saveFile()">Save <span class="shortcut">Ctrl+S</span></div>
                <div class="dropdown-item" onclick="saveFileAs()">Save As...</div>
                <div class="dropdown-separator"></div>
                <div class="dropdown-item" onclick="printFile()">Print... <span class="shortcut">Ctrl+P</span></div>
            </div>
        </div>
        <div class="menu-item">
            Edit
            <div class="dropdown">
                <div class="dropdown-item" onclick="undo()">Undo <span class="shortcut">Ctrl+Z</span></div>
                <div class="dropdown-separator"></div>
                <div class="dropdown-item" onclick="cut()">Cut <span class="shortcut">Ctrl+X</span></div>
                <div class="dropdown-item" onclick="copy()">Copy <span class="shortcut">Ctrl+C</span></div>
                <div class="dropdown-item" onclick="paste()">Paste <span class="shortcut">Ctrl+V</span></div>
                <div class="dropdown-separator"></div>
                <div class="dropdown-item" onclick="selectAll()">Select All <span class="shortcut">Ctrl+A</span></div>
                <div class="dropdown-item" onclick="findText()">Find... <span class="shortcut">Ctrl+F</span></div>
            </div>
        </div>
        <div class="menu-item">
            Format
            <div class="dropdown">
                <div class="dropdown-item" onclick="toggleWordWrap()">Word Wrap</div>
                <div class="dropdown-item" onclick="changeFont()">Font...</div>
            </div>
        </div>
        <div class="menu-item">
            View
            <div class="dropdown">
                <div class="dropdown-item" onclick="toggleStatusBar()">Status Bar</div>
            </div>
        </div>
    </div>

    <textarea class="text-area" id="textArea" spellcheck="false"></textarea>

    <div class="status-bar" id="statusBar">
        <span>Ln <span id="lineNum">1</span>, Col <span id="colNum">1</span></span>
        <span>100%</span>
        <span>Windows (CRLF)</span>
        <span>UTF-8</span>
    </div>

    <script>
        const textArea = document.getElementById('textArea');
        const titleBar = document.getElementById('titleBar');
        const statusBar = document.getElementById('statusBar');
        const lineNum = document.getElementById('lineNum');
        const colNum = document.getElementById('colNum');

        let fileName = 'Untitled';
        let isModified = false;
        let wordWrapEnabled = false;

        textArea.placeholder = "Get outta my swamp! ...or start typing here.";

        textArea.addEventListener('input', () => {
            isModified = true;
            updateTitle();
            updateStatusBar();
        });

        textArea.addEventListener('keyup', updateStatusBar);
        textArea.addEventListener('click', updateStatusBar);

        function updateTitle() {
            titleBar.textContent = `ðŸ§… ${isModified ? '*' : ''}${fileName} - Shrekpad ðŸ§…`;
        }

        function updateStatusBar() {
            const text = textArea.value;
            const cursorPos = textArea.selectionStart;
            const lines = text.substring(0, cursorPos).split('\n');
            const currentLine = lines.length;
            const currentCol = lines[lines.length - 1].length + 1;
            
            lineNum.textContent = currentLine;
            colNum.textContent = currentCol;
        }

        function newFile() {
            if (isModified && !confirm('Do you want to save changes?')) {
                return;
            }
            textArea.value = '';
            fileName = 'Untitled';
            isModified = false;
            updateTitle();
            updateStatusBar();
        }

        function openFile() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.txt';
            input.onchange = e => {
                const file = e.target.files[0];
                const reader = new FileReader();
                reader.onload = event => {
                    textArea.value = event.target.result;
                    fileName = file.name;
                    isModified = false;
                    updateTitle();
                    updateStatusBar();
                };
                reader.readAsText(file);
            };
            input.click();
        }

        function saveFile() {
            const blob = new Blob([textArea.value], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = fileName === 'Untitled' ? 'Untitled.txt' : fileName;
            a.click();
            URL.revokeObjectURL(url);
            isModified = false;
            updateTitle();
        }

        function saveFileAs() {
            const name = prompt('Enter filename:', fileName);
            if (name) {
                fileName = name.endsWith('.txt') ? name : name + '.txt';
                saveFile();
            }
        }

        function printFile() {
            const printWindow = window.open('', '', 'width=800,height=600');
            printWindow.document.write('<pre>' + textArea.value + '</pre>');
            printWindow.document.close();
            printWindow.print();
        }

        function undo() {
            document.execCommand('undo');
        }

        function cut() {
            document.execCommand('cut');
        }

        function copy() {
            document.execCommand('copy');
        }

        function paste() {
            document.execCommand('paste');
        }

        function selectAll() {
            textArea.select();
        }

        function findText() {
            const search = prompt('Find:');
            if (search) {
                const text = textArea.value;
                const index = text.indexOf(search);
                if (index !== -1) {
                    textArea.focus();
                    textArea.setSelectionRange(index, index + search.length);
                } else {
                    alert('Cannot find "' + search + '"');
                }
            }
        }

        function toggleWordWrap() {
            wordWrapEnabled = !wordWrapEnabled;
            textArea.style.whiteSpace = wordWrapEnabled ? 'pre-wrap' : 'pre';
        }

        function changeFont() {
            alert('Font selection dialog would appear here');
        }

        function toggleStatusBar() {
            statusBar.style.display = statusBar.style.display === 'none' ? 'flex' : 'none';
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey) {
                switch(e.key) {
                    case 'n':
                        e.preventDefault();
                        newFile();
                        break;
                    case 'o':
                        e.preventDefault();
                        openFile();
                        break;
                    case 's':
                        e.preventDefault();
                        saveFile();
                        break;
                    case 'p':
                        e.preventDefault();
                        printFile();
                        break;
                    case 'f':
                        e.preventDefault();
                        findText();
                        break;
                }
            }
        });

        updateStatusBar();
    </script>
</body>
</html>