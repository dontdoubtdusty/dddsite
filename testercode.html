<script>
        const eyeball = document.getElementById('eyeball');
        const warning = document.getElementById('warning');
        
        let eyeX = window.innerWidth / 2 - 100;
        let eyeY = window.innerHeight / 2 - 100;
        
        eyeball.style.left = eyeX + 'px';
        eyeball.style.top = eyeY + 'px';
        
        // Position warning message above eyeball
        warning.style.left = (window.innerWidth / 2) + 'px';
        warning.style.top = (eyeY - 50) + 'px';
        warning.style.transform = 'translateX(-50%)';
        
        // Create audio element
        const audio = new Audio('hiya_5.wav');
        audio.loop = true;
        
        let audioStarted = false;
        let firstClick = true;
        
        // Eldritch rune characters
        const runeChars = ['ᚠ', 'ᚡ', 'ᚢ', 'ᚣ', 'ᚤ', 'ᚥ', 'ᚦ', 'ᚧ', 'ᚨ', 'ᚩ', 'ᚪ', 'ᚫ', 'ᚬ', 'ᚭ', 'ᚮ', 'ᚯ', 
                          'ᚰ', 'ᚱ', 'ᚲ', 'ᚳ', 'ᚴ', 'ᚵ', 'ᚶ', 'ᚷ', 'ᚸ', 'ᚹ', 'ᚺ', 'ᚻ', 'ᚼ', 'ᚽ', 'ᚾ', 'ᚿ',
                          '⟒', '⟓', '⟔', '⟕', '⟖', '⟗', '⟘', '⟙', '⟚', '⟛', '⟜', '⟝', '⟞', '⟟',
                          '᛫', '᛬', '᛭', 'ᛮ', 'ᛯ', 'ᛰ', '⊹', '⊼', '⊽', '⊾', '⊿', '⋀', '⋁', '⋂'];
        
        function transformToRunes(element, originalText, cutToBlack = false) {
            const chars = originalText.split('');
            let currentIndex = 0;
            
            const transformInterval = setInterval(() => {
                if (currentIndex < chars.length) {
                    if (chars[currentIndex] !== ' ') {
                        chars[currentIndex] = runeChars[Math.floor(Math.random() * runeChars.length)];
                    }
                    element.textContent = chars.join('');
                    currentIndex++;
                    
                    // Cut to black in the middle of the rune animation
                    if (cutToBlack && currentIndex === Math.floor(chars.length / 2)) {
                        clearInterval(transformInterval);
                        document.body.style.background = '#000000';
                        document.body.classList.remove('activated');
                        document.body.innerHTML = '';
                        audio.pause();
                        audio.currentTime = 0;
                    }
                } else {
                    clearInterval(transformInterval);
                }
            }, 200);
        }
        
        function showMessage(text, delayAfter, callback, cutToBlack = false) {
            const msg = document.createElement('div');
            msg.className = 'clicked-message';
            msg.textContent = text;
            msg.style.left = (window.innerWidth / 2) + 'px';
            msg.style.top = (eyeY + 250) + 'px';
            msg.style.transform = 'translateX(-50%)';
            document.body.appendChild(msg);
            
            setTimeout(() => {
                transformToRunes(msg, text, cutToBlack);
            }, 2000);
            
            if (!cutToBlack) {
                setTimeout(() => {
                    msg.remove();
                    if (callback) callback();
                }, delayAfter);
            }
        }
        
        eyeball.addEventListener('click', () => {
            if (!audioStarted) {
                audio.play();
                audioStarted = true;
            }
            
            if (firstClick) {
                firstClick = false;
                warning.style.display = 'none';
                document.body.classList.add('activated');
                
                // "You clicked the eyeball" message
                setTimeout(() => {
                    showMessage('You clicked the eyeball', 10000, () => {
                        // Wait 5 seconds, then show name prompt
                        setTimeout(() => {
                            const promptContainer = document.createElement('div');
                            promptContainer.style.cssText = `
                                position: fixed;
                                left: 50%;
                                top: ${eyeY + 250}px;
                                transform: translateX(-50%);
                                text-align: center;
                            `;
                            
                            const promptLabel = document.createElement('div');
                            promptLabel.textContent = 'ENTER YOUR NAME';
                            promptLabel.style.cssText = `
                                font-family: 'Courier New', monospace;
                                font-size: 24px;
                                color: #ff00ff;
                                margin-bottom: 15px;
                                text-shadow: 0 0 10px #00ffff, 0 0 20px #ffff00;
                                animation: trippy 2.4s ease-in-out infinite;
                            `;
                            
                            const input = document.createElement('input');
                            input.type = 'text';
                            input.style.cssText = `
                                background: rgba(0, 0, 0, 0.7);
                                border: 2px solid #ff00ff;
                                color: #00ffff;
                                font-family: 'Courier New', monospace;
                                font-size: 20px;
                                padding: 10px 20px;
                                text-align: center;
                                outline: none;
                                box-shadow: 0 0 20px rgba(255, 0, 255, 0.5);
                            `;
                            
                            const submit = document.createElement('button');
                            submit.textContent = 'SUBMIT';
                            submit.style.cssText = `
                                background: rgba(255, 0, 255, 0.3);
                                border: 2px solid #00ffff;
                                color: #ffff00;
                                font-family: 'Courier New', monospace;
                                font-size: 18px;
                                padding: 10px 30px;
                                margin-top: 15px;
                                cursor: pointer;
                                text-shadow: 0 0 10px #ff00ff;
                                box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
                            `;
                            
                            promptContainer.appendChild(promptLabel);
                            promptContainer.appendChild(input);
                            promptContainer.appendChild(document.createElement('br'));
                            promptContainer.appendChild(submit);
                            document.body.appendChild(promptContainer);
                            
                            input.focus();
                            
                            const handleSubmit = () => {
                                const userName = input.value.trim();
                                if (userName) {
                                    promptContainer.remove();
                                    
                                    // Wait 5 seconds, show "GOOD. NOW EVERYONE WILL KNOW."
                                    setTimeout(() => {
                                        showMessage('GOOD. NOW EVERYONE WILL KNOW.', 10000, () => {
                                            // Wait 5 seconds, show final message
                                            setTimeout(() => {
                                                showMessage(`${userName.toUpperCase()} CLICKED THE EYEBALL. IT WAS ${userName.toUpperCase()}.`, 10000, () => {
                                                    // Wait 10 seconds, show "NAUGHTY NAUGHTY" with cut to black
                                                    setTimeout(() => {
                                                        showMessage('NAUGHTY NAUGHTY', 10000, null, true);
                                                    }, 10000);
                                                });
                                            }, 5000);
                                        });
                                    }, 5000);
                                }
                            };
                            
                            submit.addEventListener('click', handleSubmit);
                            input.addEventListener('keypress', (e) => {
                                if (e.key === 'Enter') handleSubmit();
                            });
                            
                        }, 5000);
                    });
                }, 3000);
            }
            
            // Create 2 squiggly waves
            for (let i = 0; i < 2; i++) {
                const wave = document.createElement('div');
                wave.className = 'wave';
                wave.style.left = (eyeX + 100) + 'px';
                wave.style.top = (eyeY + 100) + 'px';
                wave.style.transform = 'translate(-50%, -50%)';
                
                document.body.appendChild(wave);
                
                setTimeout(() => {
                    wave.remove();
                }, 3000);
            }
        });
    </script>
